(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,a){e.exports=a(97)},56:function(e,t,a){},57:function(e,t,a){},82:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),c=a.n(s),i=(a(56),a(19)),l=a(7),o=a(1),u=a(2),m=a(4),h=a(3),p=a(5),d=(a(57),a(15)),g=a(20),f=a(17),v=a(18),b=a.n(v),E=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e){return t.instance.post("/signup",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.login=function(e){return t.instance.post("/login",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.loggedInUser=function(){return t.instance.get("/loggedin").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.upload=function(e){return t.instance.post("/upload",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.logout=function(){return t.instance.post("/logout").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.instance=b.a.create({baseURL:"".concat("https://elimperio.herokuapp.com/api","/auth"),withCredentials:!0})},O=a(6),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={email:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},a.state,Object(f.a)({},n,r)))},a.handleLogin=function(e){var t=a.props,n=t.setUser,r=t.history;e.preventDefault(),a.authService.login(a.state).then((function(e){n(e),r.push("/")}),(function(e){console.error(e)}))},a.authService=new E,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.email;return r.a.createElement("div",{className:"container box signup-container"},r.a.createElement("h2",{className:"title is-1"},"Login"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleLogin},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("input",{className:"input",type:"email",name:"email",value:a,onChange:this.handleChange,placeholder:"Tu Email"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-envelope"},"\u2709\ufe0f")),r.a.createElement("span",{className:"icon is-small is-right"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Contrase\xf1a"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("input",{className:"input",type:"password",value:t,name:"password",required:!0,onChange:this.handleChange,placeholder:"********"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-envelope"},"\ud83d\udd12")),r.a.createElement("span",{className:"icon is-small is-right"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"})))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link"},"Entrar")),r.a.createElement("div",{className:"control"},r.a.createElement(O.b,{to:"/",className:"button is-link is-light"},"Cancelar"))))))}}]),t}(n.Component),N=a(48),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={name:"",surname:"",password:"",email:"",token:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},a.state,Object(f.a)({},n,r)))},a.handleSignUp=function(e){e.preventDefault();var t=a.props,n=t.history,r=t.setUser;a.authService.signup(a.state).then((function(e){r(e),n.push("/")}),(function(e){console.error(e)}))},a.handleUpload=function(e){console.log(e.target.files[0]);var t=new FormData;console.log(t),t.append("picture",e.target.files[0]),console.log(t.getAll("picture")),a.authService.upload(t).then((function(e){console.log(e),a.setState(Object(l.a)({},a.state,{picture:e.secure_url}))}),(function(e){console.error(e)}))},a.authService=new E,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.surname,n=e.password,s=e.email;return r.a.createElement("div",{className:"container box signup-container"},r.a.createElement("h2",{className:"title is-1"},"Registro"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSignUp},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Nombre"),r.a.createElement("input",{className:"input",type:"text",name:"name",value:t,onChange:this.handleChange,placeholder:"Tu Nombre"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Apellido"),r.a.createElement("input",{className:"input",type:"text",name:"surname",value:a,onChange:this.handleChange,placeholder:"Tu Apellido"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("input",{className:"input",type:"email",name:"email",value:s,onChange:this.handleChange,placeholder:"Tu Email"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-envelope"},"\u2709\ufe0f")),r.a.createElement("span",{className:"icon is-small is-right"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Contrase\xf1a"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("input",{className:"input",type:"password",value:n,name:"password",required:!0,onChange:this.handleChange,placeholder:"********"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-envelope"},"\ud83d\udd12")),r.a.createElement("span",{className:"icon is-small is-right"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"})))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link"},"Crear cuenta")),r.a.createElement("div",{className:"control"},r.a.createElement(O.b,{to:"/",className:"button is-link is-light"},"Cancelar"))))),r.a.createElement(N.GoogleLogin,{clientId:"XXXXXXXXXX",buttonText:"Login",onSuccess:this.googleResponse,onFailure:this.googleResponse}))}}]),t}(n.Component),y=a(49);function k(e){var t=e.component,a=e.hangers,n=e.deleteHangerInCart,s=e.user,c=e.redirectPath,i=Object(y.a)(e,["component","hangers","deleteHangerInCart","user","redirectPath"]);return r.a.createElement(d.b,Object.assign({},i,{render:function(e){return s?r.a.createElement(t,Object.assign({loggedInUser:s},e,{hangers:a,deleteHangerInCart:n})):r.a.createElement(d.a,{to:{pathname:c}})}}))}a(82),a(83);var x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).authService=new E,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.Sticky,{topOffset:180},(function(t){var a=t.style;return r.a.createElement("nav",{style:a,className:"navbar is-dark main-navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(O.b,{to:"/",className:"navbar-item"},r.a.createElement("img",{src:"https://res.cloudinary.com/dexfqvxax/image/upload/v1576179123/ResourcesIMPERIO/Logo_elImperio_hmij4g.png",width:"100",height:"35"})),r.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(O.b,{to:"/",className:"navbar-item"},"Inicio"),r.a.createElement(O.b,{to:"/catalogue",className:"navbar-item"},"Cat\xe1logo")),r.a.createElement("div",{className:"navbar-end"},!e.props.name&&r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement(O.b,{to:"/signup",className:"button is-primary"},r.a.createElement("strong",null,"Reg\xedstrate")),r.a.createElement(O.b,{to:"/login",className:"button is-light"},"Iniciar sesi\xf3n"))),e.props.name&&r.a.createElement("div",{className:"navbar-item"},r.a.createElement(O.b,{to:"/cart",className:"shop-cart-logo"},r.a.createElement("img",{src:"https://res.cloudinary.com/dexfqvxax/image/upload/v1576486235/ResourcesIMPERIO/Cart_imperio_v6awzb.png",alt:""})),r.a.createElement("div",{className:"probando"},r.a.createElement("span",{className:"prt"},e.props.name),r.a.createElement("span",null,e.props.surname)),r.a.createElement(O.b,{to:"/profile"},r.a.createElement("img",{className:"logo",src:e.props.picture,alt:e.props.name})),r.a.createElement("div",{className:"buttons"},r.a.createElement(O.b,{to:"/logout",onClick:function(t){return e.props.logout(t)},className:"button is-light"},"Logout"))))))})))}}]),t}(n.Component),S=function e(){var t=this;Object(o.a)(this,e),this.createHanger=function(){return t.instance.post("/new").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.readHangers=function(){return t.instance.get("/").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.profileHanger=function(e){return t.instance.get("/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.instance=b.a.create({baseURL:"".concat("https://elimperio.herokuapp.com/api","/hangers"),withCredentials:!0})},w=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=(e.colors,e.images),n=e.type,s=e._id,c=(e.goToCart,"/catalogue/".concat(s));return r.a.createElement("div",{className:"container box"},r.a.createElement(O.b,{to:c},r.a.createElement("img",{width:"100px",src:a[0],alt:t}),r.a.createElement("h2",null,t),r.a.createElement("h3",null,n)))}}]),t}(n.Component),I=(a(89),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).previousPage=function(){return r.a.createElement(O.b,{to:a.props.history.goBack()})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{className:"button is-warning",onClick:this.previousPage},"voler atras"))}}]),t}(n.Component)),P=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).hangerService=new S,e.state={hangers:[],hangerToCart:""},e.hangerCop=[e.state.hangers],e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"searchHanger",value:function(e){var t;e.preventDefault(),t=Object(i.a)(this.hangerCop).filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.times.toLowerCase().includes(e.target.value.toLowerCase())})),this.setState(Object(l.a)({},this.state,{hangers:t}))}},{key:"componentDidMount",value:function(){var e=this;this.hangerService.readHangers().then((function(t){e.hangerCop=t,e.setState(Object(l.a)({},e.state,{hangers:t}))}))}},{key:"render",value:function(){var e=this,t=this.state.hangers;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,this.props),r.a.createElement("h2",{className:"title is-1 has-text-centered"},"\ud83d\udcb6Cat\xe1logo\ud83d\udcb7"),r.a.createElement("div",{className:"container search-bar-container"},r.a.createElement("input",{type:"text",className:"input is-warning search-bar",name:"search-bar",placeholder:"\ud83d\udd0e Busqueda . . .  ",onChange:function(t){return e.searchHanger(t)}})),r.a.createElement("div",{className:"wrap"},t.map((function(e,t){if(t<4)return r.a.createElement(w,Object.assign({key:t},e))}))))}}]),t}(n.Component),D=function e(){var t=this;Object(o.a)(this,e),this.pruebaCart=function(e){return t.instance.post("/cambiar",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.createCart=function(e){return t.instance.post("/new",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.readCart=function(){return t.instance.get("/").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.profileCart=function(e){return t.instance.get("/".concat(e)).then((function(e){return console.log(e.data),Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.userCart=function(e){return t.instance.get("/userCart/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.delItemFromCart=function(e){return t.instance.put("/".concat(e)).then((function(e){return console.log(e.data),Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.updateCart=function(e){return console.log(e),t.instance.put("/update/".concat(e.cartId),e).then((function(e){return console.log(e.data),Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.instance=b.a.create({baseURL:"".concat("https://elimperio.herokuapp.com/api","/cart"),withCredentials:!0})},U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).hangerService=new S,a.cartService=new D,a.state={hanger:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"searchHanger",value:function(){return this.props.match.params.id}},{key:"funCart",value:function(){var e=this;this.hangerService.profileHanger(this.props.match.params.id).then((function(t){return e.cartService.pruebaCart(t)})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.hangerService.profileHanger(this.searchHanger()).then((function(t){e.setState(Object(l.a)({},e.state,{hanger:t}))}))}},{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement("div",null,r.a.createElement(I,this.props),r.a.createElement("h1",null,"HangerProfile"),r.a.createElement("h2",null,this.state.hanger.name),t&&r.a.createElement("button",{className:"button is-rounded",onClick:function(){return e.funCart()}},"+"))}}]),t}(n.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){console.log(this.props.loggedInUser);var e=this.props.loggedInUser.name;return r.a.createElement("div",{className:"container box"},r.a.createElement("h1",{className:"is-size-2"}," ",e," "))}}]),t}(n.Component),H=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer has-background-dark"},r.a.createElement("div",{className:"has-text-warning"},"Creado por Javier Agudo ")))}}]),t}(n.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"banner-container"},r.a.createElement("img",{src:"https://res.cloudinary.com/dexfqvxax/image/upload/v1576487734/ResourcesIMPERIO/Banner_animated_Imperio_v2_iqzr5z.gif",alt:"Banner-Imperio"}))}}]),t}(n.Component),R=a(21),F=(a(41),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"delete",value:function(){var e=this;Object(R.confirmAlert)({title:"\xbfEstas seguro?",message:"\xbfDeseas eliminarlo de tu carrito?",buttons:[{label:"Si",onClick:function(){return e.props.deleteHangerInCart(e.props._id)}},{label:"No"}]})}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.images,s=t.price;return console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container box cart-card-container"},r.a.createElement("img",{src:n[0],className:"image-cart",width:"60px",alt:a}),r.a.createElement("h1",{className:"subtitle has-text-centered"},a),r.a.createElement("h2",{className:""},s," \u20ac/d\xeda"),r.a.createElement("button",{className:"delete is-large",onClick:function(){e.delete()}},"Delete")))}}]),t}(n.Component)),L=(a(90),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).cartService=new D,a.hangerService=new S,a.initState={shopItems:[],dateStart:null,dateFinish:null,days:0,totalPrice:0,open:!1},a.state={hangers:[],cartId:"",shopItems:a.props.hangers,dateStart:null,dateFinish:null,days:0,totalPrice:0,open:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"searchCart",value:function(){var e=this;this.cartService.userCart().then((function(t){if(console.log(t),null!=t.shopItems){var a=t.shopItems,n=t._id;e.setState(Object(l.a)({},e.state,{hangers:a,cartId:n}))}})).catch((function(e){return console.log(e)}))}},{key:"deleteHangerInCart",value:function(e){var t=this;this.cartService.delItemFromCart(e).then((function(e){var a=e.shopItems;t.setState(Object(l.a)({},t.state,{hangers:a}))}))}},{key:"sumTotalPrice",value:function(){var e=0;return this.state.hangers.forEach((function(t){e+=t.price})),e*=this.sumDays(),this.state.totalPrice=e}},{key:"setDateStart",value:function(e){this.setState(Object(l.a)({},this.state,{dateStart:e.target.value}))}},{key:"setDateFinish",value:function(e){this.setState(Object(l.a)({},this.state,{dateFinish:e.target.value}))}},{key:"setTodayDate",value:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;return t<10&&(t="0"+t),a<10&&(a="0"+a),e.getFullYear()+"-"+a+"-"+t}},{key:"sumDays",value:function(){if(this.state.dateStart&&null===this.state.dateFinish)return 0;var e=new Date(this.state.dateStart),t=new Date(this.state.dateFinish).getTime()-e.getTime(),a=Math.round(t/864e5);return this.state.days=a}},{key:"save",value:function(e){var t=this;e.preventDefault(),Object(R.confirmAlert)({title:"\xbfEstas seguro?",message:"\xbfDeseas alquilar todos los articulos de tu carrito?",buttons:[{label:"Si",onClick:function(){return t.saveCart()}},{label:"No"}]})}},{key:"saveCart",value:function(){var e=this;this.cartService.updateCart(this.state).then((function(){e.state=e.initState}))}},{key:"componentDidMount",value:function(){this.sumTotalPrice(),this.searchCart(),this.setTodayDate()}},{key:"componentDidUpdate",value:function(){this.sumTotalPrice(),this.sumDays()}},{key:"render",value:function(){var e=this,t=this.state.hangers;return r.a.createElement(r.a.Fragment,null,0===t.length&&r.a.createElement("div",{className:"container box"},r.a.createElement(I,this.props),r.a.createElement("img",{src:"https://res.cloudinary.com/dexfqvxax/image/upload/v1576596014/ResourcesIMPERIO/empty-cart-IMP_af6ktk.png",alt:"Empty-Cart"})),t.length>0&&r.a.createElement("div",{className:"container box"},r.a.createElement(I,this.props),t.map((function(t,a){return r.a.createElement(F,Object.assign({key:a},t,{deleteHangerInCart:function(t){return e.deleteHangerInCart(t)},printHangersInCart:function(){return e.printHangersInCart()}}))})),r.a.createElement("form",{className:"box has-background-grey-dark"},r.a.createElement("h3",{className:"has-text-centered has-text-white\t"},"Alquilar:"),r.a.createElement("div",{className:"cart-form"},r.a.createElement("label",{htmlFor:"fecha-inicio has-text-white"},"Desde:"),r.a.createElement("input",{type:"date",className:"input is-small is-rounded",min:this.setTodayDate(),onChange:function(t){return e.setDateStart(t)}}),r.a.createElement("label",{htmlFor:"fecha-final has-text-white"},"Hasta:"),r.a.createElement("input",{type:"date",className:"input is-small is-rounded",min:this.setTodayDate(),onChange:function(t){return e.setDateFinish(t)}})),r.a.createElement("div",{className:"cart-form"},r.a.createElement("h4",null,"Total: ",this.sumTotalPrice()),r.a.createElement("h4",null,"D\xedas: ",this.sumDays())),r.a.createElement("div",{className:"cart-form-btn"},r.a.createElement("button",{type:"button",className:"button is-warning",onClick:function(t){e.save(t)}},"Alquilar")))))}}]),t}(n.Component)),q=(a(91),a(50)),M=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(q.Carousel,null,r.a.createElement("div",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dexfqvxax/image/upload/v1576584535/ResourcesIMPERIO/rod_ves_2_yhajgu.jpg"}),r.a.createElement("p",{className:"legend"},"Legend 1")),r.a.createElement("div",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dexfqvxax/image/upload/v1576584534/ResourcesIMPERIO/rod_ves_1_ocvu8o.jpg"}),r.a.createElement("p",{className:"legend"},"Legend 2")),r.a.createElement("div",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dexfqvxax/image/upload/v1576584766/ResourcesIMPERIO/rod_ves_3_n0z7yb.jpg"}),r.a.createElement("p",{className:"legend"},"Legend 3")))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={user:null,hangersToCart:[]},a.setUser=function(e){a.setState(Object(l.a)({},a.state,{user:e}))},a.fetchUser=function(){null===a.state.user&&a.authService.loggedInUser().then((function(e){a.setUser(e)}),(function(e){a.setUser(!1)})).catch((function(){a.setUser(!1)}))},a.logout=function(){a.authService.logout().then((function(e){a.setState(Object(l.a)({},a.state,{user:null}))})).catch((function(e){return console.log(e)}))},a.goToCart=function(e){var t=Object(i.a)(a.state.hangersToCart);t.push(e),a.setState(Object(l.a)({},a.state,{hangersToCart:t}))},a.authService=new E,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"deleteHangerInCart",value:function(e){var t=Object(i.a)(this.state.hangersToCart).filter((function(t){return!t._id.includes(e)}));this.setState(Object(l.a)({},this.state,{hangersToCart:t}))}},{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"componentDidUpdate",value:function(){console.log(this.state.hangersToCart)}},{key:"render",value:function(){var e=this;this.fetchUser();var t=this.state,a=t.user,n=t.hangersToCart;return console.log(n),r.a.createElement("div",{className:"App"},r.a.createElement(g.StickyContainer,null,r.a.createElement("header",{className:"App-header"},r.a.createElement(_,null),r.a.createElement(x,Object.assign({},a,{logout:this.logout}))),r.a.createElement("div",null,!a&&r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(M,e)}}),r.a.createElement(d.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(j,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(d.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(C,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(d.b,{exact:!0,path:"/catalogue",render:function(e){return r.a.createElement(P,e)}}),r.a.createElement(d.b,{exact:!0,path:"/catalogue/:id",render:function(e){return r.a.createElement(U,e)}})),a&&r.a.createElement(d.d,null,r.a.createElement(k,{exact:!0,path:"/profile",user:a,component:T}),r.a.createElement(k,{exact:!0,path:"/cart",user:a,component:L,hangers:n,deleteHangerInCart:function(t){return e.deleteHangerInCart(t)}}),r.a.createElement(d.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(M,e)}}),r.a.createElement(d.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(j,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(d.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(C,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(d.b,{exact:!0,path:"/catalogue",render:function(e){return r.a.createElement(P,e)}}),r.a.createElement(d.b,{exact:!0,path:"/catalogue/:id",render:function(t){return r.a.createElement(U,Object.assign({},t,{user:a,goToCart:e.goToCart}))}})))),r.a.createElement(H,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O.a,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[51,1,2]]]);
//# sourceMappingURL=main.2bba7e6e.chunk.js.map